
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Evacuation Planning System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .route-line {
            stroke: #eab308;
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 5,5;
            animation: dash 2s linear infinite;
        }
        
        @keyframes dash {
            to {
                stroke-dashoffset: -10;
            }
        }
        
        .building-map {
            background-image: 
                linear-gradient(90deg, rgba(30, 58, 138, 0.1) 1px, transparent 1px),
                linear-gradient(rgba(30, 58, 138, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    <!-- Header Section -->
    <div class="bg-blue-950 text-white py-16">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-yellow-500 rounded-full mb-6">
                    <i data-lucide="shield-alert" class="w-8 h-8 text-blue-950"></i>
                </div>
                <h1 class="text-4xl font-bold mb-4">Emergency Evacuation Planning</h1>
                <p class="text-xl text-blue-100 max-w-3xl mx-auto">Generate customized evacuation routes and comprehensive emergency plans to ensure safety and preparedness for any situation.</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-6xl mx-auto px-6 py-12">
        <!-- Planning Tools -->
        <div class="grid lg:grid-cols-2 gap-8 mb-12">
            <!-- Route Generator -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="flex items-center mb-6">
                    <div class="w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4">
                        <i data-lucide="route" class="w-6 h-6 text-blue-950"></i>
                    </div>
                    <h2 class="text-2xl font-bold text-blue-950">Route Generator</h2>
                </div>
                
                <div class="space-y-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Building Type</label>
                        <select id="buildingType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
                            <option>Office Building</option>
                            <option>School</option>
                            <option>Hospital</option>
                            <option>Shopping Mall</option>
                            <option>Residential Complex</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Number of Floors</label>
                        <input type="number" id="floors" value="3" min="1" max="50" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Occupancy</label>
                        <input type="number" id="occupancy" value="150" min="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
                    </div>
                </div>
                
                <button onclick="generateRoute()" class="w-full bg-blue-950 text-white py-3 px-6 rounded-lg hover:bg-blue-900 transition-colors font-medium">
                    <i data-lucide="map" class="w-5 h-5 inline mr-2"></i>
                    Generate Evacuation Route
                </button>
            </div>

            <!-- Plan Generator -->
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="flex items-center mb-6">
                    <div class="w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4">
                        <i data-lucide="file-text" class="w-6 h-6 text-blue-950"></i>
                    </div>
                    <h2 class="text-2xl font-bold text-blue-950">Plan Generator</h2>
                </div>
                
                <div class="space-y-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Emergency Type</label>
                        <select id="emergencyType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
                            <option>Fire Emergency</option>
                            <option>Earthquake</option>
                            <option>Flood</option>
                            <option>Chemical Spill</option>
                            <option>Security Threat</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Response Team Size</label>
                        <input type="number" id="teamSize" value="8" min="1" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Special Considerations</label>
                        <textarea id="considerations" rows="3" placeholder="Mobility assistance, medical equipment, etc." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none"></textarea>
                    </div>
                </div>
                
                <button onclick="generatePlan()" class="w-full bg-yellow-500 text-blue-950 py-3 px-6 rounded-lg hover:bg-yellow-400 transition-colors font-medium">
                    <i data-lucide="clipboard-list" class="w-5 h-5 inline mr-2"></i>
                    Generate Evacuation Plan
                </button>
            </div>
        </div>

        <!-- Interactive Map Display -->
        <div id="mapSection" class="bg-white rounded-xl shadow-lg p-8 mb-8 hidden">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-blue-950">Generated Evacuation Route</h3>
                <div class="flex space-x-2">
                    <button onclick="downloadRoute()" class="bg-yellow-500 text-blue-950 px-4 py-2 rounded-lg hover:bg-yellow-400 transition-colors text-sm font-medium">
                        <i data-lucide="download" class="w-4 h-4 inline mr-1"></i>
                        Download
                    </button>
                    <button onclick="printRoute()" class="bg-blue-950 text-white px-4 py-2 rounded-lg hover:bg-blue-900 transition-colors text-sm font-medium">
                        <i data-lucide="printer" class="w-4 h-4 inline mr-1"></i>
                        Print
                    </button>
                </div>
            </div>
            
            <div class="building-map bg-gray-50 rounded-lg p-6 relative" style="height: 400px;">
                <svg id="routeMap" width="100%" height="100%" class="absolute inset-0">
                    <!-- Building outline -->
                    <rect x="50" y="50" width="300" height="200" fill="none" stroke="#1e3a8a" stroke-width="2"/>
                    
                    <!-- Rooms -->
                    <rect x="70" y="70" width="80" height="60" fill="#dbeafe" stroke="#1e3a8a"/>
                    <rect x="170" y="70" width="80" height="60" fill="#dbeafe" stroke="#1e3a8a"/>
                    <rect x="270" y="70" width="60" height="60" fill="#dbeafe" stroke="#1e3a8a"/>
                    <rect x="70" y="150" width="80" height="80" fill="#dbeafe" stroke="#1e3a8a"/>
                    <rect x="170" y="150" width="80" height="80" fill="#dbeafe" stroke="#1e3a8a"/>
                    <rect x="270" y="150" width="60" height="80" fill="#dbeafe" stroke="#1e3a8a"/>
                    
                    <!-- Exit points -->
                    <circle cx="200" cy="50" r="8" fill="#eab308"/>
                    <circle cx="350" cy="150" r="8" fill="#eab308"/>
                    
                    <!-- Evacuation route -->
                    <path id="evacuationPath" class="route-line" d="M 110 100 L 200 100 L 200 50"/>
                    <path id="evacuationPath2" class="route-line" d="M 210 180 L 300 180 L 350 150"/>
                </svg>
                
                <!-- Legend -->
                <div class="absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-md">
                    <div class="text-sm font-medium text-gray-700 mb-2">Legend</div>
                    <div class="flex items-center mb-1">
                        <div class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></div>
                        <span class="text-xs text-gray-600">Exit Points</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-4 h-0.5 bg-yellow-500 mr-2" style="border: 1px dashed #eab308;"></div>
                        <span class="text-xs text-gray-600">Evacuation Route</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 grid md:grid-cols-3 gap-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <div class="flex items-center mb-2">
                        <i data-lucide="clock" class="w-5 h-5 text-blue-950 mr-2"></i>
                        <span class="font-medium text-blue-950">Estimated Time</span>
                    </div>
                    <p class="text-2xl font-bold text-blue-950" id="evacuationTime">3-5 minutes</p>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <div class="flex items-center mb-2">
                        <i data-lucide="users" class="w-5 h-5 text-blue-950 mr-2"></i>
                        <span class="font-medium text-blue-950">Capacity</span>
                    </div>
                    <p class="text-2xl font-bold text-blue-950" id="routeCapacity">150 people</p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <div class="flex items-center mb-2">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-600 mr-2"></i>
                        <span class="font-medium text-blue-950">Safety Rating</span>
                    </div>
                    <p class="text-2xl font-bold text-green-600">Optimal</p>
                </div>
            </div>
        </div>

        <!-- Generated Plan Display -->
        <div id="planSection" class="bg-white rounded-xl shadow-lg p-8 hidden">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-blue-950">Emergency Evacuation Plan</h3>
                <div class="flex space-x-2">
                    <button onclick="downloadPlan()" class="bg-yellow-500 text-blue-950 px-4 py-2 rounded-lg hover:bg-yellow-400 transition-colors text-sm font-medium">
                        <i data-lucide="download" class="w-4 h-4 inline mr-1"></i>
                        Download PDF
                    </button>
                    <button onclick="sharePlan()" class="bg-blue-950 text-white px-4 py-2 rounded-lg hover:bg-blue-900 transition-colors text-sm font-medium">
                        <i data-lucide="share-2" class="w-4 h-4 inline mr-1"></i>
                        Share Plan
                    </button>
                </div>
            </div>
            
            <div id="planContent" class="space-y-6">
                <!-- Plan content will be generated here -->
            </div>
        </div>

        <!-- Features Grid -->
        <div class="grid md:grid-cols-3 gap-8 mt-12">
            <div class="text-center">
                <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="zap" class="w-8 h-8 text-blue-950"></i>
                </div>
                <h3 class="text-xl font-bold text-blue-950 mb-2">Instant Generation</h3>
                <p class="text-gray-600">Create evacuation routes and plans in seconds with our advanced algorithms.</p>
            </div>
            
            <div class="text-center">
                <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="shield-check" class="w-8 h-8 text-blue-950"></i>
                </div>
                <h3 class="text-xl font-bold text-blue-950 mb-2">Safety Compliant</h3>
                <p class="text-gray-600">All plans meet international safety standards and building codes.</p>
            </div>
            
            <div class="text-center">
                <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="smartphone" class="w-8 h-8 text-blue-950"></i>
                </div>
                <h3 class="text-xl font-bold text-blue-950 mb-2">Mobile Ready</h3>
                <p class="text-gray-600">Access your evacuation plans on any device, anywhere, anytime.</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        function generateRoute() {
            const buildingType = document.getElementById('buildingType').value;
            const floors = document.getElementById('floors').value;
            const occupancy = document.getElementById('occupancy').value;
            
            // Show the map section
            document.getElementById('mapSection').classList.remove('hidden');
            
            // Update route details based on inputs
            const timeEstimate = Math.ceil(occupancy / 50) + parseInt(floors);
            document.getElementById('evacuationTime').textContent = `${timeEstimate}-${timeEstimate + 2} minutes`;
            document.getElementById('routeCapacity').textContent = `${occupancy} people`;
            
            // Scroll to map
            document.getElementById('mapSection').scrollIntoView({ behavior: 'smooth' });
            
            // Show success message
            showNotification('Evacuation route generated successfully!', 'success');
        }

        function generatePlan() {
            const emergencyType = document.getElementById('emergencyType').value;
            const teamSize = document.getElementById('teamSize').value;
            const considerations = document.getElementById('considerations').value;
            
            // Generate plan content
            const planContent = `
                <div class="border-l-4 border-yellow-500 pl-6">
                    <h4 class="text-lg font-bold text-blue-950 mb-3">${emergencyType} Response Protocol</h4>
                    <div class="space-y-4">
                        <div class="bg-red-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-red-800 mb-2">Immediate Actions (0-2 minutes)</h5>
                            <ul class="text-sm text-red-700 space-y-1">
                                <li>• Activate emergency alarm system</li>
                                <li>• Alert emergency response team (${teamSize} members)</li>
                                <li>• Begin evacuation procedures</li>
                                <li>• Contact emergency services</li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-yellow-800 mb-2">Evacuation Phase (2-10 minutes)</h5>
                            <ul class="text-sm text-yellow-700 space-y-1">
                                <li>• Guide occupants to designated exits</li>
                                <li>• Assist individuals with special needs</li>
                                <li>• Conduct floor-by-floor sweep</li>
                                <li>• Maintain crowd control at assembly points</li>
                            </ul>
                        </div>
                        
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-green-800 mb-2">Post-Evacuation (10+ minutes)</h5>
                            <ul class="text-sm text-green-700 space-y-1">
                                <li>• Conduct headcount at assembly areas</li>
                                <li>• Report to emergency services</li>
                                <li>• Provide medical assistance if needed</li>
                                <li>• Coordinate with authorities for re-entry</li>
                            </ul>
                        </div>
                        
                        ${considerations ? `
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-blue-800 mb-2">Special Considerations</h5>
                            <p class="text-sm text-blue-700">${considerations}</p>
                        </div>
                        ` : ''}
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-gray-800 mb-2">Emergency Contacts</h5>
                            <div class="grid md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <strong>Fire Department:</strong> 911<br>
                                    <strong>Police:</strong> 911<br>
                                    <strong>Medical Emergency:</strong> 911
                                </div>
                                <div>
                                    <strong>Building Security:</strong> (555) 123-4567<br>
                                    <strong>Facilities Manager:</strong> (555) 123-4568<br>
                                    <strong>Safety Coordinator:</strong> (555) 123-4569
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('planContent').innerHTML = planContent;
            document.getElementById('planSection').classList.remove('hidden');
            
            // Scroll to plan
            document.getElementById('planSection').scrollIntoView({ behavior: 'smooth' });
            
            // Show success message
            showNotification('Evacuation plan generated successfully!', 'success');
        }

        function downloadRoute() {
            // Get current route data
            const buildingType = document.getElementById('buildingType').value;
            const floors = document.getElementById('floors').value;
            const occupancy = document.getElementById('occupancy').value;
            const timeEstimate = document.getElementById('evacuationTime').textContent;
            
            // Create SVG content for download
            const svgContent = document.getElementById('routeMap').outerHTML;
            const routeData = `
Evacuation Route Report
======================

Building Information:
- Type: ${buildingType}
- Floors: ${floors}
- Occupancy: ${occupancy} people
- Estimated Evacuation Time: ${timeEstimate}

Route Details:
- Primary exits identified and marked
- Evacuation paths optimized for capacity
- Safety rating: Optimal
- Compliance: Meets international safety standards

Generated on: ${new Date().toLocaleString()}

SVG Map Data:
${svgContent}
            `;
            
            // Create and download file
            const blob = new Blob([routeData], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `evacuation-route-${buildingType.replace(/\s+/g, '-').toLowerCase()}-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showNotification('Route file downloaded successfully!', 'success');
        }

        function printRoute() {
            window.print();
        }

        function downloadPlan() {
            // Get current plan data
            const emergencyType = document.getElementById('emergencyType').value;
            const teamSize = document.getElementById('teamSize').value;
            const considerations = document.getElementById('considerations').value;
            const buildingType = document.getElementById('buildingType').value;
            const floors = document.getElementById('floors').value;
            const occupancy = document.getElementById('occupancy').value;
            
            // Create comprehensive plan content
            const planContent = `
EMERGENCY EVACUATION PLAN
========================

FACILITY INFORMATION
-------------------
Building Type: ${buildingType}
Number of Floors: ${floors}
Total Occupancy: ${occupancy} people
Emergency Type: ${emergencyType}
Response Team Size: ${teamSize} members
Generated: ${new Date().toLocaleString()}

IMMEDIATE ACTIONS (0-2 MINUTES)
------------------------------
1. Activate emergency alarm system
2. Alert emergency response team (${teamSize} members)
3. Begin evacuation procedures according to ${emergencyType} protocol
4. Contact emergency services (911)
5. Initiate communication with building occupants

EVACUATION PHASE (2-10 MINUTES)
-------------------------------
1. Guide occupants to designated exits using marked routes
2. Assist individuals with special needs and mobility requirements
3. Conduct systematic floor-by-floor sweep starting from top floor
4. Maintain crowd control at assembly points
5. Monitor evacuation progress and report to incident commander

POST-EVACUATION PROCEDURES (10+ MINUTES)
---------------------------------------
1. Conduct headcount at designated assembly areas
2. Report status and missing persons to emergency services
3. Provide first aid and medical assistance as needed
4. Coordinate with authorities for building re-entry clearance
5. Document incident and evacuation effectiveness

SPECIAL CONSIDERATIONS
---------------------
${considerations || 'None specified'}

EMERGENCY CONTACTS
-----------------
Fire Department: 911
Police: 911
Medical Emergency: 911
Building Security: (555) 123-4567
Facilities Manager: (555) 123-4568
Safety Coordinator: (555) 123-4569

ASSEMBLY POINTS
--------------
Primary: Main parking lot (North side)
Secondary: Adjacent park area (East side)
Tertiary: Street corner (South intersection)

EVACUATION ROUTES
----------------
- Route A: Main stairwell to north exit
- Route B: Emergency stairwell to east exit  
- Route C: Service corridor to south exit
- Elevator use prohibited during emergency

EQUIPMENT LOCATIONS
------------------
- Fire extinguishers: Each floor, near stairwells
- First aid kits: Reception areas and break rooms
- Emergency lighting: All corridors and exits
- Communication devices: Security office and each floor

TRAINING REQUIREMENTS
--------------------
- Monthly evacuation drills
- Annual emergency response training
- Quarterly equipment inspections
- Semi-annual plan reviews and updates

This plan complies with local fire codes and OSHA regulations.
Plan should be reviewed and updated annually or after any building modifications.

---
Document ID: EP-${Date.now()}
Version: 1.0
Next Review Date: ${new Date(Date.now() + 365*24*60*60*1000).toLocaleDateString()}
            `;
            
            // Create and download file
            const blob = new Blob([planContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `evacuation-plan-${emergencyType.replace(/\s+/g, '-').toLowerCase()}-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showNotification('Evacuation plan downloaded successfully!', 'success');
        }

        function sharePlan() {
            if (navigator.share) {
                navigator.share({
                    title: 'Emergency Evacuation Plan',
                    text: 'Check out this evacuation plan',
                    url: window.location.href
                });
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(window.location.href);
                showNotification('Plan link copied to clipboard!', 'success');
            }
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i data-lucide="${type === 'success' ? 'check-circle' : 'alert-circle'}" class="w-5 h-5 mr-2"></i>
                    ${message}
                </div>
            `;
            
            document.body.appendChild(notification);
            lucide.createIcons();
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>
